{"version":3,"sources":["icons.js","Scanner.js","FormConsegna.js","logo.jpeg","vistaOperatore.js","mapButton.js","LoginComponents.js","Navbar.js","API.js","App.js","reportWebVitals.js","index.js"],"names":["iconDelete","className","width","height","viewBox","fill","xmlns","d","fillRule","clipRule","iconGeol","class","FrecciaDx","FrecciaSx","Scanner","_onDetected","result","props","onDetected","Quagga","init","inputStream","type","constraints","facingMode","locator","patchSize","halfSample","numOfWorkers","decoder","readers","locate","err","console","log","start","this","offDetected","id","Component","FormConsegna","useState","scanning","setScanning","Container","Row","show","Button","onClick","setShow","setStato","bVal1","bDes1","bVal2","bDes2","setColli","colli","length","setMap","setMessage","msg","scan","codeResult","code","variant","Table","map","c","i","filter","index","src","alt","arrayStati","ComponenteOperatore","withScriptjs","withGoogleMap","lat","lng","position","setPosition","visible","setVisible","value","setValue","fluid","Col","lg","defaultZoom","center","Form","size","inline","FormControl","onChange","event","target","placeholder","codice","indexOf","stato","style","color","cursor","window","scrollTo","top","behavior","Timestamp","user","MapComponent","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","inviaColli","dayjs","format","LoginForm","username","setUsername","password","setPassword","errorMessage","setErrorMessage","Alert","Group","controlId","Label","fontSize","fontFamily","Control","ev","backgroundColor","preventDefault","credentials","valid","login","LogoutButton","logout","NavBar","Navbar","bg","expand","Brand","logged","BASEURL","a","fetch","b","response","json","tasksJson","ok","method","headers","body","JSON","stringify","message","userInfo","API","getColli","timestamp","Promise","resolve","reject","then","catch","error","logIn","logOut","getUserInfo","arrayRuoli","App","loading","ruolo","setRuolo","loggedIn","setLoggedIn","useEffect","checkAuth","doLogIn","name","doLogOut","undefined","sm","md","onClose","dismissible","Nav","exact","path","render","googleMapURL","loadingElement","containerElement","mapElement","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0dfd6dd9.chunk.js","sourcesContent":["const iconEdit = <svg className=\"bi bi-pencil-square\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"orange\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path\r\n      d=\"M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z\"/>\r\n    <path fillRule=\"evenodd\"\r\n      d=\"M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z\" clipRule=\"evenodd\"/>\r\n  </svg>;\r\n\r\nconst iconDelete = <svg className=\"bi bi-trash\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"red\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path\r\n      d=\"M5.5 5.5A.5.5 0 016 6v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm2.5 0a.5.5 0 01.5.5v6a.5.5 0 01-1 0V6a.5.5 0 01.5-.5zm3 .5a.5.5 0 00-1 0v6a.5.5 0 001 0V6z\"/>\r\n    <path fillRule=\"evenodd\"\r\n      d=\"M14.5 3a1 1 0 01-1 1H13v9a2 2 0 01-2 2H5a2 2 0 01-2-2V4h-.5a1 1 0 01-1-1V2a1 1 0 011-1H6a1 1 0 011-1h2a1 1 0 011 1h3.5a1 1 0 011 1v1zM4.118 4L4 4.059V13a1 1 0 001 1h6a1 1 0 001-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\" clipRule=\"evenodd\"/>\r\n  </svg>;\r\n\r\nconst iconGeol = <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-geo-alt\" viewBox=\"0 0 16 16\">\r\n    <path d=\"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z\"/>\r\n    <path d=\"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>\r\n  </svg>\r\n\r\nconst FrecciaDx = <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-right\" viewBox=\"0 0 16 16\">\r\n  <path fillRule=\"evenodd\" d=\"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z\"/>\r\n</svg>\r\n\r\nconst FrecciaSx = <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\r\n  <path fillRule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"/>\r\n</svg>\r\n\r\nexport { iconDelete, iconEdit, FrecciaDx, FrecciaSx, iconGeol };","import React, { Component } from 'react'\r\nimport Quagga from 'quagga'\r\n\r\nclass Scanner extends Component {\r\n  componentDidMount() {\r\n    Quagga.init(\r\n      {\r\n        inputStream: {\r\n          type: 'LiveStream',\r\n          constraints: {\r\n            width: 440,\r\n            height: 200,\r\n            facingMode: 'environment', // or user\r\n          },\r\n        },\r\n        locator: {\r\n          patchSize: 'medium',\r\n          halfSample: true,\r\n        },\r\n        numOfWorkers: 4,\r\n        decoder: {\r\n          readers: ['code_128_reader'],\r\n        },\r\n        locate: true,\r\n      },\r\n      function(err) {\r\n        if (err) {\r\n          return console.log(err)\r\n        }\r\n        Quagga.start()\r\n      },\r\n    )\r\n    Quagga.onDetected(this._onDetected)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    Quagga.offDetected(this._onDetected)\r\n  }\r\n\r\n  _onDetected = result => {\r\n    this.props.onDetected(result)\r\n  }\r\n\r\n  render() {\r\n    return <div id=\"interactive\" className=\"viewport\" />\r\n  }\r\n}\r\n\r\nexport default Scanner\r\n","import { Table } from 'react-bootstrap';\nimport { iconDelete, FrecciaDx, FrecciaSx } from './icons'\nimport {useState} from 'react'\nimport { Container, Row } from 'react-bootstrap';\nimport Button from 'react-bootstrap/Button';\nimport Scanner from './Scanner.js'\nimport logo from './logo.jpeg'\n\nfunction FormConsegna(props){\n    const [scanning, setScanning] = useState(false);\n\n    const scanHandle = scan => {\n        if(scanning) {\n            props.setColli(colli => [scan.codeResult.code, ...colli]);\n            setScanning(false);\n        }\n    };\n    \n    return (<>\n        <Container>\n            <Row className=\"justify-content-center\"> {\n                props.show ? <>\n                    <Button onClick={() => {props.setShow(false); props.setStato(props.bVal1)}} className=\"cns-button\">{props.bDes1}</Button>\n                    <Button onClick={() => {props.setShow(false); props.setStato(props.bVal2)}} className=\"res-button\">{props.bDes2}</Button>\n                </>\n                : <>\n                    <Button onClick={() => {setScanning(false); props.setColli([]); props.setShow(true)}} className=\"prev-button\">{FrecciaSx} Indietro</Button>\n                    <Button onClick={() => props.colli.length ? props.setMap(true) : props.setMessage({msg: 'Non è stato inserito alcun collo', type: 'danger'})} className=\"next-button\">Avanti {FrecciaDx}</Button>\n                    <Scanner onDetected={scanHandle} />\n                    <Button onClick={() => setScanning(true)} variant=\"light\" className={`scan-button ${scanning && \"invisible\"}`}>Nuova scansione</Button>\n                    <Table className=\"scan-table\">\n                        <thead>\n                            <tr>\n                                <th>#</th>\n                                <th>Codici letti</th>\n                                <th>Rimuovi codice</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {props.colli.map((c, i) =>\n                                <tr>\n                                    <td>{i+1}</td>\n                                    <td>{c}</td>\n                                    <td><span onClick={() => props.setColli(colli => colli.filter((c, index) => i !== index))} >{iconDelete}</span></td>\n                                </tr>\n                            )}\n                        </tbody>\n                    </Table>\n                </>\n            } </Row>\n            <img className=\"logo\" src={logo} alt={\"logo\"}/>\n        </Container>\n    </>);\n}\n\nexport default FormConsegna;","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAcFBQYFBAcGBQYIBwcIChELCgkJChUPEAwRGBUaGRgVGBcbHichGx0lHRcYIi4iJSgpKywrGiAvMy8qMicqKyr/2wBDAQcICAoJChQLCxQqHBgcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKir/wAARCADiAT4DASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD6RooooAKKKKACiiigAoopMUALRSYoxQAtGaKaRySelAClgO9JvHrSCMY6daPLUdqYCGUdqTzT2p21fQfnTfk5G4DHXmkAnmtnAo81qqajq1hpVs1xeTKsajJxycV5zrX7QXgnSspBPJcyjsIzigD1Aytnj+VJ5r+/5V89337VEKMwsNGRx2ZmIrAuf2pNdkb/AEfS4Y/+2hoA+o/Nf3/KjzX9f0r5Xi/ah8Qqf3mmwt/20P8AhW/YftU52LqGiRj+86uTQB9E+ZJ2P6Unmyev6V5bon7Q/gvU2VLmaS1lbjBjOPzr0XSvEej61Asum39vKG7eYN35UAXfNf1/SlErnv8ApU2Ow496MDGTzQMhMkgxz19qPMk9f0qbHPPI7UuPagRBvk9f0o8yT/IqxijFAFfzJP8AIo3y/wCRVjFFICvvm/yKXdN/kVNS0WAr7pvX9KN0/r+lWKKAK2bjsf0FH+kev6CrNFAFf/SP736CjFx/e/QVYoxQAUUUUwCiiigAooooAKKKKACiiigApkh2RuRxhSafVHWboWej3U5ONsZ/lQB4jrHxO1+PWrqK2uSkKNhcGsuT4leJGP8Ax/OPxrlLiZprqWU8l5Gz+dR9TWiRm2dS/wAQ/ETf8xKQGqz+OvELn5tVm56mueA5ppwetJxBM6e28Qaje6Tql1qczXUcUDx7XPQla+eT8xz079a9l1aSTTPhnqtzE2DNcIo56gitT4J/B/R/GXhi51LXdxYShYgBnjFSy0eCgkHNGcnmvsuH9nnwWn37bzCOuVq7F8BfAkf3tJif6rSGfE/0NG7nj86+3/8AhRvgL/oBW/5VMnwW8Cx9NCt/yoA+HAGJ+UMc+1aGl6rq2j3Cz6XPcW8qnIKA19uR/CTwRFgjQbbj2q1H8NfB8f3dCtf++TQB8/eC/wBovxBpbpB4mtJb+34BmKnco9cCvofwn450XxlaC40edjx80ci7SD9KcPAXhZPu6Ja/981a0zwromjTGXS9NhtXbqyZFAGuOlLSA5/CloAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiik6fWgBa5f4iXYtPBF++cMVAH510x4bnvXlXxV8TWV3oM9jZz7nQgSEHg80CZ4wo+Vs+uaCMc08lD91gARyAablSOtapmdhvuBSHo+Rxg0Fg3A3U45Yxp5TFmYDIFDY7FX4hSpafD3TbRXPmXIEhT1wa+gfgZpS6Z8LNNdchrqMSNkdDXzn8TnWbWvD+npGVeJBG647lhX1v4OsxY+DdLtQu3y4AMVmy0bfSlpAc0tIYYoxRRQAUUUUAGKTFLRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABSevrS01iFUsegGTQBw3xX8cxeB/BdxdI/8ApsylbdPU96+ZdI+KMNr4f/s/VdPjvJ/MZ2mdck5OcVP8d/GzeJvHT2sMm6ysztjAPGehrzGMM8qxjI3sFz9TTA9Jb4pWO4+XoVtj1KUxPiuqtldAsSPdTXoOh/sy2+o6PbXd1qkyNMgYqhHetL/hlfTP+gxdfmP8KLiseZD4wsv+r8N6afqppr/GS6wpTQNMQg54ByK9Tj/ZY0gff1e7/AirUf7L3h1D8+o3b/7TEZNFwseGabqF543+J2nXFwI/NedX8tD8oAIr7lhjEUKRqMBFAFeE638LvDfwm0pvFdjLNNdWhCxpLjaxNci37UOuSRZ/s+1VvoaAPqbvRn2NfJ0n7TXiRh8trbD86qv+0l4rP3Yrb8zSA+vM0A18dv8AtHeMG6Jbj8TXVfDD4teL/GXjq10+d4xbrh5QCfu5oGfTVFJ/FS0AFBOBRSdM459qABnVBliAPeozcwr96ZB/wKvJf2h/EV3oHgqA2F49rcTuVUxtg8Yr5cfx34qYfNr16f8AtqaAPvo31qOtzEP+Binw3EM/MMqyAdSpzivz9PjPxI3XWr0/9tTXsX7O3xBvh4sl0XV717hb0fuzM+dpAoA+pQc9KKQY4xxS0AFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAVynxG8Qjwx4D1PUlfEiRER+56V1Zrwb9qDXBaeGbDTImw1xI29R6YoA+Xbi4a5up7iT5mlcuSfc5rS8L2Z1DxRYW20yeZKvHXvWQzDgDoK9B+CGltqfxU0wAApExZs/SmB9rWUSwafBFGuAkagD8Ks4poGAPYYp1IAxTTjvTqQ/SgDxT9pvUxb/AA/jswSHmmRhj0Br5JJPevob9qjVidU0vTVPy+UXP4Gvnnv60AFJS0Y/CgAxXuX7MGlfafGl5eseIrcr+orw7H1r6i/Za0wJ4bv9RKYdpjGGx2wKAPfv4s0tIOgzS0AB4FIfWlpMUAfNH7VGqLJcaXpo+9Exc/iK+dCa9b/aN1U3vxQmtwcpBEmPyrySgABrU8O6pLomv2d/bMVkilHQ9s1l0oOGDDqDmgD9EtE1GPVdFtb2E5SWMHPvitCvNPgNrJ1X4W2CyEtJACrE/WvSxQAUUUUAFFFFABRRRQAUUZooAKKKKACiiigAooooAKKKKAA18nftPah53jS3ss58hA35ivrGvjb9o593xcuFzwsMf8qAPJvrXuP7MWm/avGV3eHANsg/XNeHZ+bJr2H4K/E7QPh5aX7anazTXNxtw0eO1AH2AT/+qlzXhUn7Ufh5fu6bdH8qpyftUaSP9XpNyfyoA+gMj1pAc188t+1VZfw6Pcfmv+NMH7UcU0ixQaPOXk+VRxkselFwPPP2gdROpfFK5gD+YLcmNQOeuOK5rQvhl4j1wb0s3tYf+esykLXsdtoFlZ6vceKPENotxrGqN50dpIoKwD/aU96s3Or3dycGTyk/uQ/Kv5V5OKzKnQ06nvYHJquJXM9EedwfBKaHB1DWbMA/3WNW/wDhTGnFTjWYif8AfrrGYsfm5/3uaQqOy4/CvKeczeyPoI8N0kveZws/wWmcP9i1i04HAdjzX0T8GNEPhnwQmnTSxNP5m5tnfivMFIXkcH2rQsNXu7GdZLWeQOvO0twa2oZw2/fOTE8O8sG6bPoMcU6uc8JeI117TQ74WZPlcV0Yr6GnUjUipRPkKtOVKbhLdBTWYKpZjgDOc06srxHfCw8NX903AhhJzWhmfDvxL1A6n8QdTnL78SFQfoTXJ1b1SX7Rq15MTkvO7Z+rGqlABSjjPrSUo60AfU/7LWotc+G9StG+7buuPxzXvdfOv7KJ/wBC1z/eSvoqgAooooAKKKKACiignFIBCKBRmml8UAPooopgFFFFABRRRQAUUUUAFfG37SEe34s3Ddmhj5/Cvsk18qftQ6cIfFdne7cecoUn1wKAPCK2LXwprt7brNaaTcyxv911Tg1lwpvniX+84GPxr758GaFb6X4P062a3hJESsTsHcZoA+J4/h74ul+54fvGz6R1N/wrDxr/ANC5e/8AfFfeQgiX7sSAjphafsHov5UAfBQ+GHjX/oXb3/viu0+Gnwv1q18SjVPFGlS2ljaIWzMvDOBlf1r7BKj0X8q5X4hb18I3Hkgk7hkLWNaXLTbN8PFSqxT7njt/qD6lfS3UpOZG+X2HpVUnHX8qaCQozxnoKCehPpX5/WnKpNtn69RpqFNRiSRq8sgSNSxIzUv2Z9jSRyCUIcOF/gPvXNeNNXn0bwszWhKyzuB5g/hB7Vn/AAVkvL7VtSEk7Sxm1fckjZyfXmvVw2W+0oe0bPAxubLD4lUUjrtwzx6ZpVOOhx3zUq6deEbY7dn9AOuKP7M1M4A0+bg+leY8NUTskezHGUZRu5HXfDe9aHxA0O75ZExj3zXsYrxTwLY3sXimJ5rKVFwAWPQV7V3r7DLOf2KUj87zrkeJvAU1w3xi1P8Asz4W6xKBy0BAx9a7knAzXiv7TWpmy8BWtssmPtUrKy+oxXqHiHyS7b2LHqTk02gmigApe9IOtLzzigD6d/ZUgePStalYfK7JtPr1r6Frx/8AZw0uS0+G8d06bRdElTjrgmvXwMUAFLSE4ppekA+imbs0ZpXAdupCc0hNMzQFx9JgGm5ooC5NRRRVAFFFFABRRRQAUUUUAFeH/tNaF/aHgu21GNebJ2ZzjseK9wrA8a6CniXwfqOlSKCJ4iBn160AfDXgmxXU/Gem2jjcsko4/Wvv20Ty7KCMdFjUfkK+NvgxoMg+NdrbTwnFnM4cEdBzivs8AD6CgBPpTqKSkAE15/8AEfxCtjdWeillX7fGzc9yK789a+ZP2kNfe38eaGImKmzBY7T23AmoqRcouJrTlyTUiWaE287wtkGM4OaZ39c1du7yLV7K11uz/wBReJucf3W6VSxlsV8BiabpVXFn65gayr0FIh1HSYtf0G602b/WYMkR/wBoDgV4a0moaNezW0c0ttLGxR/LYqf0r3pJGhkWWL76HIHqa474neFfttoniXSY8/wXkajkP1LV7+UYlOPspHyPEOBaft4nV/syw3moeJL69vriS4gWEoFlYsA3HrX0v9ltx0hj/wC+RXiH7Lul+V4Qvr89ZLgqPpivc8GvoeWK1sfH80m7NjVgiRsxxop9QtSUmKOe1NK2xO/UUnivmT9qfUUl1TTdPD/PEd7LnoCtfTQPzAV8Z/tB6uNV+KVwEGBDCiflVIR5YRSU7tg02gAqa1hae7hiRSzSOFAHfmoa9J+B3hRvE3xDtWkj32lqd8px044oA+uPAukf2F4J03T9uwxRAlfTPNdBmmouxQo/hGDSmgYdaTFLSdKi4B0ppJpd1GM0CEzSU4jFNqkSwpcUlKGxQImoooplhRRRQAUUUUAFFFFABTSAevQ9qdTT6nt0oA820j4fPo/xgv8AXrSMLaXKJwB9045r0qk+p60tAAaTOKDSHOeaTta4PYN3OT06182/ELwRL4p+Jd5qPiG5FtpUJxDH3kGOxFeweNPGMeiW7W0B3XMg4AP3a8fubye9uGmuZjK7c7j0/KvHxuZRorljufRZXk08V789ESGWztdGi0nSbdoLOLoHbcTj3qqT0PSg/cJPIzT/ACJ/J87yisYOCxr5WrOdZ87P0CjRo4aCgmRep7Zqza3CossUy+ZBOhilQ9MHqfrVc9fQY6+9IMbSfTr71NKbhJSRpiKMa9Jwke0/DPQLLw54W+z6c4aGZ/NUD+HI6Vp+IvFlp4daNbtSxfpg1wnw48TfY7g6bev8knzRknp7Vn/EfWV1HX1hjw0cIxkf3q+snj4rDqa3PzuGVSljnRktDsD8UNNB/wBWfzph+KOnl1CQsxJwAGryTccdRn0xWl4eszqPiCzt1XI8wFuO1edRzSpUqqJ7eJyHDUKTqN7Hv0FyktklyflDJvwe3FfBnj/Un1Px1qk7HOJ2QfQGvtzxJcjSfBWoTltiwW2AfTFfA+oy+fql1NnPmTO2fqa+pWsbnwklZ6FYmkxmlxn60vPBNO1iQVSzADkk4FfZPwG8D/8ACKeCUvLmLZf343OCOQO36V4h8CvhrJ4u8SpqV/CTpdkwZiw4kPoK+wUAjjWOMBQo2qB2AoAeP170GkB9+e9GRSY7i0UlNzUg2IetKDinCkIpkoQnNJRRQIKXikNFMRPRRRTLCiiigAooooAKKKKACkxk0tFACEUgp1JQAmaoaxqCadpU9w38C8fWr3TNcb8SZ2i8LyBON5H86568+WkzowtP2tWMH1Z5HqF/Lqd/JeztukkY9e1VOuS34UoGFAHakIyRXwVSUpzbkfr9CnGlSUIkqyQWdrNqN4f9HtlPB/ibqBXnmk/FC9l8XGbUMf2dcEx+RxhAeM/hXZ+L7We9+Gl8loheZZ0JVepUdTXg3fB4P8q+oyzC03QbfU+BzrG1VibJ2SPom5hSJ1MD74JBuib1WoumK5T4c+J11Sx/sHUpRvhXNvI3oP4a6xlZGKsMEHFeDj8K8PU8j63KcasVQV3qKjsjbkYqwOQR2pGJZizEszHJJP60HtQBgZrh53ax6vJFPmExjknpyT7V6V8LdCYeZqlwmN3yxg/zrk/Dfha78Q3iDbttA2Wf19q9vsLCLT7OO1txtRFCj619BleEbfPI+O4gzFcv1eD1OH+N+qjT/hTqSjk3EZjBzjBr4l7Zr6q/ah1NrXwfp1nG2POnIce2K+VtvBOOMV9Sj4RNCdOvWuu+Hnw/1Hx94gjsbNGjt1YG4uCOEWpvh78M9Y8fatFDaxNFZBv31yw4Uf1r7I8H+DNL8FaEmnaRAowP3kndz35oGWfC3hqx8JeHrfSNMjCQwr1H8R7mtnAx71Hu6DP4UuaAAjDHHekopelIkTn0op26gHJpDEBxS5zSMOaaDg0AONFIeWpDTAWim5pc0CLFFFFMoKKKKACiiigAoopM0rgLRTd1JmlcB+abzSZoyaLgKRmuV8f2L33hedYx8yYNdTUNxEs0LxOMhwRisqsOeDXc3oVPZ1FNdD5sDZHvnkUY6gHj0roPGPhyXw9qrlEJs5TlWA+7XPB92SOa+DxFGdKo0z9aweJhiKSlBl3T76TT5c4DwuCjxHkMD1rntd+F3h3XLpr3SNR/s53OTa7CwB+tagYBeKXqMnp9a6cNj6mHXKjjx2U0sY+aW5j6F8MtE0C8S91HU2vJoyGSIIV+YdORW9dT/abl5VXbuOcelR44yOgo7ccljwB1NRisVPFPUvA5fSwMdGHfjsKAf14oIKMFkUg9dpGKXoeehriknF6npRaex23w/wDEf9l6h9huWHky/dz2Jr1wNvUMv3T0I7183o5yCOGU/Ka9i8B+Jl1XTltLhsXMIxg9x619TlWMTj7NnwefZe6c/bwXqeH/ALS1zNqfjWy0iyWSeREVhGik4JFRfDn9nW+1ZotR8Wk2lqDuFt1Mg/pX0gnhrSE1ptXNojX7qFaZhkkDtWrt46Y9CK+g6HyO7KGlaLp+g6XDp2l2ywW8YwFX/Gr+c8Hp6UhGO/P86UCi4Bjnjj1pcUtFIdhMUhWlNNJzxQKwYpAaMYpuaYiQnim7e9Jk5oyaLDFIpM0Z5pKAClxSUoNFxFiim5pKVyh+aQtTTRSuAu6jdSUUDDNFFFABRRRQAUUUmKAE5NIcHqM04UYoEZ+p6ZbarZm2vIhIh9a851j4UyrIZdJuSB/cxXqhFIYwevFctbC0q3xo7sLjq+F/hs8In8C+Irdj/oyuPXdUSeDvELtzZLn/AH697246YP1ppVd33RXA8opN6Hrx4jxKVmeM2Hw21q6kH2jFuCecEGu40X4b6bprJLdD7VcLyGYYxXXkDvx9KAT2OCO9dFLLaEOhw4jNsVXWstDi/GXgaPVoBcacoiuUHb+L2rhR4C18L89upP8AvdK9uzzg/nQadTLaNR3aHhs4xNCPKmeJDwDr3H7kf99Vo6N4T8S6RqcN1AgwrfON33h6V67kbaUEfw0U8vp0pc0UaVs8xFaLhPYbbvI0aGVdrlRuGehqXHGKaD3A570u7Fej6nhOabF9ulLTQQeaWkPQWimlwD1pC47UBcd1FNYADjrTd9B55oQBnIpKKKsQZpcE9KT8KQ4/GkAtH164oxkZxR83Xbx0oAP50opMEdsD1o5FKwE2DigA4ryO28Xaxqf7QT+H7a8ZNMtIHeWLPBINcUfjHrFh8dLqwvLp5NG+1/Z0jJ+Vcng0WHc+kTx94gU1jt6soPua8j+KnirU7Txx4Y0nR7p4Y72eN3ZP4kLYrF+LN/4g1P4r6T4X8PaxNYRy26mZ4TyCTjNFgPdlYNwGUn2OaV2CcsVUerHFfOXjHSfHnwojtteTxRc6rYpKFminYDI+gro/jB4r1Gf4e+F7nR7t7S71WaMlYzyQy5xTsI9qzlc5H1pFdZP9Wyt67TnFczqF5Npfwte6mmZZYNPVml77sDJrzPwH4l1nTPgTrfiaeaW9vlmlMG/0zxRYZ7bJe2sD7J7qCN/7rSAfzqQzRLD5rSxiPrv3Db+dfNXhrRdO+Ivh2S+1Dx1PBrUrEiCaRVCHsBXpvgvwX4ij+H114e8X6n5wmJENzC+9tueP0oEegHVtN6/2jaY7nz1/xpYtRsbhXNvfW0oT7xSVTt+uDXzBr3w7jsvjBpfhG11u8eC8OZXYcr8ua73xP4F0/wCGHwv1650zULiWe6RF3y8Y5osB64Nc0c/8xey983Cf41Yt7y1u0L2l1DOo6tG4YD8q+bfBnw28F6n4HttS1zxIsd9KrvIgmXIPPvWt8CEuLGbxYbaeeTRIUPkSTjG75TyKLAe82up2V9JJHZ3UU0kRw6o4O2malrGn6RCsmp3kdurnC72AzXjv7OaNLb+I9VuMkT3AKuT2Gc1zHxKi1D4r+ItTGkSyLpnh1WBYD5XON2f0osgPo+KWK4hWaBxJG4yrA8GlZkjjd5DtWNSzMewFcL8GNa/tr4VaW748y3j8t8HPc1tePL1tP8AavcK2Cbd1U/VTRdjK8nxK8JRymN9Xj3KeRuFX9E8XaH4juJLfR70XMijcwBHAr51+HM/wwg8JrN4s06a71CU75G8ktg+g5r274c2fgyS1m1TwTpjWiltjs8ZQn86bQnY6nV9YstC0x77U5Wit4+CwGa5I/GbwQFBOoScjIHl8mux1DTLLV7Q2eqW0d1Ax5jkr5+vPCWhan+0TbaTZaTBBZWluHkhUna2GpAtD2DS/iR4a1jSb3UrCeY21iheZ5I9uAOuK55/2gPASqCLq8cZ6rbkj86qfGPTtO8L/AAq1GHQ7SKxW53I4j435FcT4Z8YfCvSfB1haX+hPNqHkKWV7c/vJMc4NF2GqPbvCvjbQ/Glk9z4fuTKqH50YYYfhTvFnjPR/BOj/ANpa7K0cJOFCjLMfTFeafAXwbfaXf6x4iuoDYWuoMwt7bkbU3ZBwfasnxBGnxi+J13pr3EaaJokYc7nxvfoRQGnU9q8M+JNP8W6DFq+jszWspIUsMHj2rK8Z/EbRfBEaLqBlnupf9Xb26b3P1A5rgf2c9W/4leraB5hP9n3MhRewXdgVlfE3TPE3hn4tJ410zSxq1oFULFy2MDB4FPQDrPDnx30DXNfj0m+tLnTp5ziHz4Sm4/jWp8Qfitp3gG8tbSe1kup7oEokaFifyriPDfjnwl8SPGFlaeKfD39na5E2bcNEVye+Saxfif4lt9M+PulveW0lxb6avMUSF2bK+lAHU2/7RmlfboIdT0i7sopmC+ZJAy8n616Vr3i3RvDfh/8AtnUrkLbMoaPHJfPQAd68O8c67cfF+803RPC3h+eKNZVaW5uoDFsAIPBqz4vtYdc+MnhzwVcMX07T4iXjPR2AB/nSA2p/jzqRtzf2fhOeTTQeZWjcNj1xXoPhLx5pXjLwrLrOltzBGzSxHgoQCcY/Ct27it7fRbmDy1S1jtmGzHAG2vn34Tyx2Hh3x9f2Z8mzLMsTA8HKmgDatvjz4i1We6Gg+FUvIbaTYZAW/pW34L+NF1rXi5PD/iTRRpVzKheLGTu/OvLfh54/8R/D74fzahbaBHdWNzL5j3BznPPNd/8ADjw/f+OvFUfxG165j8toytrbRMGCA88+hpgXPGnxQ8a+F7nUJl8NWzaZaSFVuDKcuB3xUfhjx78R/FLadeweH7SPTbp1Jk845CHvitD9oa/ktfhqsKEA3l0kR+hFdh4EgGk/DfR4Sdqw2Kk8e1IDlvDvj/U9c+MN/wCGXhQWdnbsxkVs/MDivS2Hb0rw74JR/bPiN4t1VhuP2qWNX9s5r28ZK89+aYHg/wAPz9u+KPjnxFJtzarNGrZ7bc1y+heCT4u+HHijWlXN/DqJubeX+Laq5wK9n8N/DC38O6V4gtEu5JJNaLF5j1TcMVq+BfBNv4L8Lf2Isz3SMPnd/wCLjHNIDwLwD4jufiD8T/DkN7EfM0izWOTd/eVutddoc9vqv7TuqXFxPEI7O2ZQZHAwQ1d74V+E+j+EfGd74hsJXeW6DAxsBhMntWXffA3RbzX7vV49Vvba5u3LyGLHftQBi/HvWbfWtP0vwro00d3e312odIWDbEPGTisT4pImka58PtKvWVIrN4FldzhRgYOTXp/hT4XaD4Uvmv4g9/ftwLm5HzqParvjjwBovjuxjttaj2shykyD5lNAHL/GPxTpVt8KL6zs7+CWa9g8mGOGQMWP0FZNv4gs/hd8GdCj1/TzdW+oHbNHtyFBUHmtnRPgZ4Y0jU4bq4ln1I2+DHHcgFVIrt/EHhrS/EuhtperWyvbFdqqBnZ9KYHhXjL4c/Dm48LT+JNF1qGxuBEJ4ooJlyWPO3Gc16J8CbjVbn4X20uuPI8wldY2l+8UB4P5VU034AeDtPulllSW7RW3CGZflr0y3tobO2S3s4VhjjXaiKMACkB4hpeNc/aivriRwy6fGhjwc9VxWr+0deongOGyL4e8mCquevzCvQtL8IaNpGuXerWdsovroASOR1xT9e8L6P4lNsdas1uVtm3RBlzg0wPA/HvwUstG+Hlpr2grI1xbIkk8BGBIDgmu20Pxjo178ArrUdPtobPy4TFPBF/C3SvWJraG5tXtpollt3TYYmHAGMVg2HgDw1p2kXWl2umxJZXbBpYtvDEHPSgDxvw14jbwR+zvBJb86lqjGO3RepDMQT+tJ4X+G3xN0bwnd21rNbLFqMZeZWmw3Tpj8a9sbwX4caKyhbTITFYA/Z0K8Jznit3d8w6AEYoA8K/ZvurnS/7b8MairLcW9xnHZcDoK6z48X0ll8Kbkx7t0sqrhRztOc13droul2OoT3tlYww3kxzLMi8v7mn32m2Oq2/kanaR3UGchZRnmgDwrwd41+GGj+CdMttS015LyO3Hnk22SW7969e8Fa1oWueHzd+F4Gt7IvjaY9hz9KcPAfhRs7vD1iG/3K1bDTbLSrb7NptrHaxZz5UQ4+tAFxVHmrn7wGd3tXhnw3hl1b49+JNUuYpALYSQxM64GA3GK9xznpx6+9V7aws7SaWWzs44ZJM+YyjBagDyb9oUT3unaBplpFNN59+vnLGuRtI70vxN+GVtf/DS0vdBsltdV0yBZUaJfnbCjivW5bS2ndGlt45GQ5VmHKmpfrznjHtQB4la/E3WW+BxZ9MvTroU2qIYSDkADdVXwt8AJm0eLUbrxJf6de3482eOEDHzDODXunkQLykEZ9SRT2G7rkenoKQHz/8ADDw7qPw/+NOp6GVup7S6iX/SnQ4YnJ5PSiz8eeN/h14q1Sw8TadeazZTSFrd442k2DJxjHtXv21S28xqX/v96UlTgOvmAdGI5FAHhfhfQ9Y8ffFq28aX+kjSbCyBKIylXk+XHINX/DHhu+1f4+a1rus2LCCEKIGkTg/LjivZ2Zs8kH0oLEgKvJ9TTAZEkcClbeJIuedo61438VfAuvp4vsvG3g5Fmu7fPmxMcZ7V7N7DoOlAygPl8fXvQFzwy88Q/FL4gWJ0O30WDR0nG24udzKQvfGfatvXvhzP4d+CEvhrwynn30jL5rnrJ1yTivWd7EfeBHemjcpG0kfSpGcd4L8JpafCOx8N6tAu9rQxzJjIDHNcp8JfBnijwJ4k1PTLwI+gTOzwMXyw9OK9d5zkEnnml+YsQGJ789qe4Hmnxe8Ga14z/sa20hIntra6jluPMbBwDziu5udPkTwnLYWRAmFqYY+ehxWj83GMqe+KXY27gD60aCPPvhF4I1DwVouox6yUa7vLtpgVbPymvQBx37U7yyepJPqaXyjRdAKOh+tJ0U445ooqShT1FIOBx60UUwY4d/pSAZB+lFFIQv8ACPrR3oopiGjrSn7poooAjbqKcnWiimAJ98nvQf8AWGiimA3+BvrSNyq5oooAUdaD3oooARhTumCOtFFACf40pPzD6UUUAIvf60Dp+NFFAB/yzH1pWJO4Hpt6UUUAJ/CKUfeoooAaB1pc/K/4UUUAIPu0/sKKKABVG48D8qcPvUUUFDlABbAoHT8aKKCWOakHaiikIUd6KKKYz//Z\"","import {  useState } from 'react';\r\nimport { iconGeol } from './icons'\r\nimport { Table, Container, Row, Col, Form, FormControl } from 'react-bootstrap';\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\"\r\n//npm install --save react-google-maps\r\n\r\nconst arrayStati = ['in magazzino', 'in consegna', 'consegnato', 'respinto']\r\n\r\nconst ComponenteOperatore = withScriptjs(withGoogleMap((props) => {\r\n\r\n    const [position, setPosition] = useState({lat: 42, lng: 13});\r\n    const [visible, setVisible] = useState(false);\r\n    const [value, setValue] = useState('');\r\n\r\n    return(\r\n        <Container fluid>\r\n            <Col lg>\r\n                <Row className=\"justify-content-center\">\r\n                    <GoogleMap defaultZoom={6} center={position}>\r\n                        <Marker visible={visible} position={position} />\r\n                    </GoogleMap>\r\n                </Row>\r\n            \r\n                <Row className=\"justify-content-center\">\r\n                    <h1>Inserisci il codice</h1>\r\n                    <span className=\"invisible\">___</span>\r\n                    <Form size=\"large\" inline><FormControl onChange={event => setValue(event.target.value)} size=\"large\" type=\"text\" placeholder=\"Codice\"  /></Form>\r\n                </Row>\r\n            \r\n                <Row className=\"justify-content-center\">\r\n                    <Table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Codice</th>\r\n                                <th>Stato</th>\r\n                                <th>Posizione</th>\r\n                                <th>Data</th>\r\n                                <th>Utente</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {props.colli.filter(c => value === '' ? true : c.codice.indexOf(value) > -1).map(c =>\r\n                                <tr>\r\n                                    <td>{c.codice}</td>\r\n                                    <td>{arrayStati[c.stato]}</td>\r\n                                    <td><span style={{color: \"blue\", cursor: \"pointer\"}} onClick={() => {window.scrollTo({ top: 0, behavior: \"smooth\" });setVisible(true); setPosition({lat: c.lat, lng: c.lng})}}>{iconGeol} Mostra sulla mappa</span></td>\r\n                                    <td>{c.Timestamp}</td>\r\n                                    <td>{c.user}</td>\r\n                                </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </Table>\r\n                </Row>\r\n\r\n            </Col>\r\n        </Container>\r\n    );\r\n}))\r\n\r\nexport default ComponenteOperatore;","import Button from 'react-bootstrap/Button';\r\nimport {  useState } from 'react';\r\nimport { FrecciaSx } from './icons'\r\nimport { Container, Row } from 'react-bootstrap';\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\"\r\nimport dayjs from 'dayjs';\r\n//npm install --save react-google-maps\r\n\r\nconst MapComponent = withScriptjs(withGoogleMap((props) => {\r\n\r\n    const [position, setPosition] = useState({lat: 42, lng: 13});\r\n    const [visible, setVisible] = useState(false);\r\n\r\n    const positionHandle = () => {\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(\r\n                (pos) => {setPosition({ lat: pos.coords.latitude, lng: pos.coords.longitude,}); setVisible(true);},\r\n                () => {/*Non ci sono le autorizzazioni*/}\r\n            );\r\n        } else {\r\n            //Non ci sono le autorizzazioni\r\n        }\r\n    };\r\n\r\n    const confirmHandle = () => {\r\n        if(visible) {\r\n            props.setShow(true);\r\n            props.setColli([]);\r\n            props.setMap(false); \r\n            props.inviaColli(props.colli, position.lat, position.lng, dayjs().format('YYYY-MM-DD HH:mm'), props.stato)\r\n        }\r\n        else\r\n            props.setMessage({msg: 'È necessario fornire la posizione', type: 'danger'});\r\n    }\r\n\r\n    return(\r\n        <Container>\r\n            <Row className=\"\">\r\n            </Row>\r\n            <Row>\r\n                <GoogleMap defaultZoom={6} center={position}>\r\n                    <Marker visible={visible} position={position} />\r\n                </GoogleMap>\r\n            </Row>\r\n            \r\n            <Row className=\"justify-content-center\">\r\n                <Button className='pos-button' onClick={positionHandle}>Mostra posizione</Button>\r\n                <Button className='pos-button' onClick={confirmHandle}>Conferma</Button>\r\n                <Button className='pos-button' onClick={() => props.setMap(false)}>{FrecciaSx} Indietro</Button>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}))\r\n\r\nexport default MapComponent;","import { Form, Button, Alert } from 'react-bootstrap';\nimport { useState } from 'react';\n//import { Redirect } from 'react-router';\n\nfunction LoginForm(props) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorMessage, setErrorMessage] = useState('') ;\n  \n  const handleSubmit = (event) => {\n      event.preventDefault();\n      setErrorMessage('');\n      const credentials = { username, password };\n      \n      // SOME VALIDATION, ADD MORE!!!\n      let valid = true;\n      if(username === '' || password === '' || password.length < 6)\n          valid = false;\n      \n      if(valid)\n      {\n        props.login(credentials);\n      }\n      else {\n        // show a better error message...\n        setErrorMessage('Error(s) in the form, please fix it.')\n      }\n  };\n\n  return (\n    <Form>\n      {errorMessage ? <Alert variant='danger'>{errorMessage}</Alert> : ''}\n      <Form.Group controlId='username'>\n          <Form.Label style={{fontSize: \"xxx-large\", fontFamily: \"cursive\"}}>Username</Form.Label>\n          <Form.Control type='email' value={username} onChange={ev => setUsername(ev.target.value)} />\n      </Form.Group>\n      <Form.Group controlId='password'>\n          <div style={{fontSize: \"xxx-large\", fontFamily: \"cursive\"}}>Password</div>\n          <Form.Control type='password' value={password} onChange={ev => setPassword(ev.target.value)} />\n      </Form.Group>\n      <Button style={{height: \"80px\", width: \"280px\", fontSize: \"xx-large\", backgroundColor: \"rgb(78, 78, 78)\"}} onClick={handleSubmit}>Login</Button>\n    </Form>)\n}\n\nfunction LogoutButton(props) {\n  return(<>\n    <Button style={{fontSize: \"x-large\"}} variant=\"outline-black\" onClick={props.logout}>Logout</Button>\n    <div className='invisible'>  </div>\n  </>);\n}\n\nexport { LoginForm, LogoutButton };","import { Col , Navbar } from 'react-bootstrap';\r\nimport { LogoutButton } from './LoginComponents';\r\n\r\nfunction NavBar(props){\r\n\r\nreturn(\r\n\r\n<Navbar bg=\"secondary\" variant=\"dark\" expand=\"lg\">\r\n    \r\n    <Col>\r\n      <Navbar.Brand>\r\n        <div style={{fontSize: \"xx-large\", fontFamily: \"cursive\"}}>I&T Tracking</div>\r\n      </Navbar.Brand>\r\n    </Col>\r\n    \r\n    <Col className=\"d-flex justify-content-end\">\r\n        { props.logged ? <>\r\n          <LogoutButton logout = {props.logout}/>\r\n          <svg style={{position: \"relative\", top: '11px'}} xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"currentColor\" className=\"bi bi-person-circle\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z\"/>\r\n            <path fillRule=\"evenodd\" d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z\"/>\r\n          </svg>\r\n          </>:<></>\r\n        }\r\n    </Col>\r\n                          \r\n</Navbar>\r\n\r\n    );\r\n}\r\n\r\nexport default NavBar;","/**\n * All the API calls\n */\n\nconst BASEURL = 'https://tranquil-earth-17406.herokuapp.com/api';\n\n// Task API //\n\nasync function getColli() {\n  // call: GET /api/operatore/colli\n  const b = await fetch('https://tranquil-earth-17406.herokuapp.com/api/prova');\n  console.log(b)\n  const response = await fetch(BASEURL + '/operatore/colli');\n  const tasksJson = await response.json();\n  if (response.ok) {\n    return tasksJson.map(c => ({codice: c.codice, stato: c.stato, lat: c.lat, lng: c.lng, Timestamp: c.Timestamp, user: c.user}));\n  } else {\n    throw tasksJson;  // an object with the error coming from the server\n  }\n}\n\nfunction inviaColli(colli, lat, lng, timestamp, stato) {\n  // call: POST /api/autista/colli\n  return new Promise((resolve, reject) => {\n    fetch(BASEURL + '/autista/colli', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({colli: colli, lat: lat, lng: lng, timestamp: timestamp, stato: stato})\n      }).then((response) => {\n        if (response.ok) {\n          resolve(null);\n        } else {\n          // analyze the cause of error\n          response.json()\n            .then((message) => { reject(message); }) // error message in the response body\n            .catch(() => { reject({ error: \"Cannot parse server response.\" }) }); // something else\n        }\n    }).catch(() => { reject({ error: \"Cannot communicate with the server.\" }) }); // connection errors\n  });\n}\n\n\n// User API //\n\nasync function logIn(credentials) {console.log(23);\n  let response = await fetch(BASEURL + '/sessions', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(credentials),\n  });\n  if(response.ok) {\n    const user = await response.json();\n    return user;\n  }\n  else {\n    try {\n      const errDetail = await response.json();\n      throw errDetail.message;\n    }\n    catch(err) {\n      throw err;\n    }\n  }\n}\n\nasync function logOut() {\n  await fetch(BASEURL + '/sessions/current', { method: 'DELETE' });\n}\n\nasync function getUserInfo() {\n  const response = await fetch(BASEURL + '/sessions/current');\n  const userInfo = await response.json();\n  if (response.ok) {\n    return userInfo;\n  } else {\n    throw userInfo;  // an object with the error coming from the server\n  }\n}\n\nconst API = {getColli, inviaColli, logIn, logOut, getUserInfo};\nexport default API;","import 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport { Nav, Col, Container, Row, Alert } from 'react-bootstrap';\nimport FormConsegna from './FormConsegna.js';\nimport ComponenteOperatore from './vistaOperatore.js';\nimport MapComponent from './mapButton.js';\nimport NavBar from './Navbar.js';\nimport { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Redirect, Route, Switch } from 'react-router-dom';\nimport API from './API';\nimport { LoginForm } from './LoginComponents';\n\nconst arrayRuoli = [ 'operatore', 'magazziniere', 'autista' ];\n//const arrayStati = ['in magazzino', 'in consegna', 'consegnato', 'respinto'];\n\nfunction App() {\n  const [show, setShow] = useState(true);\n  const [colli, setColli] = useState(['1', '2', '3', '4']);\n  const [stato, setStato] = useState();\n  const [map, setMap] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState('');\n  const [ruolo, setRuolo] = useState(true);\n  const [loggedIn, setLoggedIn] = useState(false); // at the beginning, no user is logged in\n\n  useEffect(()=> {\n    const checkAuth = async() => {\n      try {\n        // here you have the user info, if already logged in\n        // TODO: store them somewhere and use them, if needed\n        const user = await API.getUserInfo();\n        setLoggedIn(true);\n        setRuolo(user.ruolo);\n      } catch(err) {\n        console.error(err.error);\n      }\n    };\n    checkAuth();\n  }, []);\n\n\n  useEffect(()=> {\n    const getColli = async () => {console.log(ruolo);\n      if(loggedIn && ruolo === 0) {\n        const colli = await API.getColli();\n        setColli(colli);\n      }\n    };\n    getColli()\n      .catch(err => {\n        setMessage({msg: \"Impossibile caricare i dati! Ripropva più tardi...\", type: 'danger'});\n        console.error(err);\n      });\n  }, [loggedIn, ruolo]);\n\n  const handleErrors = (err) => {\n    if(err.errors)\n      setMessage({msg: err.errors[0].msg + ': ' + err.errors[0].param, type: 'danger'});\n    else\n      setMessage({msg: err.error, type: 'danger'});\n  }\n\n\n  const doLogIn = async (credentials) => {\n    try {\n      const user = await API.logIn(credentials);\n      setLoggedIn(true);\n      setMessage({msg: `Welcome, ${user.name}!`, type: 'success'});\n      setRuolo(user.ruolo);\n    } catch(err) {\n      setMessage({msg: 'Incorrect uername and/or password', type: 'danger'});\n    }\n  }\n\n  const doLogOut = async () => {\n    await API.logOut();\n    // clean up everything\n    setLoggedIn(false);\n    setRuolo(undefined);\n    setColli([]);\n  }\n\n  return (\n    <Router>\n      <NavBar logged={loggedIn} logout={doLogOut} />\n      <Container sm=\"auto\" className=\"App\">\n        <Switch>\n\n          <Row sm=\"auto\" className=\"rowstyle\">\n            <Col sm=\"auto\" md=\"10\" lg=\"10\">\n              {message && <Alert variant={message.type} onClose={() => setMessage('')} dismissible>{message.msg}</Alert>}\n              \n              {!loggedIn ? <Redirect to=\"/login\" /> :\n                !loading ? <span>🕗 Please wait, loading... 🕗</span> :\n                <Nav className = \"px-md-4\">\n\n                  <Route exact path=\"/autista\" render={() =>\n                    !map ? \n                      <FormConsegna bDes1={'Consegnato'} bDes2={'Respinto'} bVal1={2} bVal2={3} show={show} setShow={setShow} colli={colli} setColli={setColli} setMap={setMap} setStato={setStato}  setMessage={setMessage}/>\n                    :\n                      <MapComponent \n                        googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\"\n                        loadingElement={<div style={{ height: `100%` }} />}\n                        containerElement={<div style={{ height: `400px`, width: '600px' }} />}\n                        mapElement={<div style={{ height: `100%` }} />}\n                        setMap={setMap}\n                        inviaColli={API.inviaColli}\n                        colli={colli}\n                        stato={stato}\n                        setColli={setColli}\n                        setShow={setShow}\n                        setMessage={setMessage}\n                      />\n                  } />\n\n                  <Route exact path=\"/magazziniere\" render={() =>\n                    !map ? \n                      <FormConsegna bDes1={'In magazzino'} bDes2={'In consegna'} bVal1={0} bVal2={1} show={show} setShow={setShow} colli={colli} setColli={setColli} setMap={setMap} setStato={setStato} setMessage={setMessage}/>\n                    :\n                      <MapComponent \n                        googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\"\n                        loadingElement={<div style={{ height: `100%` }} />}\n                        containerElement={<div style={{ height: `400px`, width: '600px' }} />}\n                        mapElement={<div style={{ height: `100%` }} />}\n                        setMap={setMap}\n                        inviaColli={API.inviaColli}\n                        colli={colli}\n                        stato={stato}\n                        setColli={setColli}\n                        setShow={setShow}\n                        setMessage={setMessage}\n                      />\n                  } />\n\n                  <Route exact path=\"/operatore\" render={() =>\n                    <ComponenteOperatore \n                      googleMapURL=\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places\"\n                      loadingElement={<div style={{ height: `100%` }} />}\n                      containerElement={<div style={{ height: `400px`, width: '100%' }} />}\n                      mapElement={<div style={{ height: `100%` }} />}\n                      inviaColli={API.inviaColli}\n                      colli={colli}\n                      stato={stato}\n                      setColli={setColli}\n                      setMessage={setMessage}\n                      />\n                  }/>\n\n                  <Route exact path=\"/undefined\" render={() =>\n                    {!ruolo && <Redirect to=\"/login\"/>}\n                  }/>\n\n                </Nav>\n\n              }\n\n              <Route path=\"/login\" render={() => \n                <>{loggedIn && arrayRuoli[ruolo]!==undefined ? <Redirect to = {'/' + arrayRuoli[ruolo]} /> : <LoginForm login={doLogIn} />}</>\n              }/>\n\n            </Col>\n          </Row>\n\n        </Switch>\n\n      </Container>\n    </Router>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}